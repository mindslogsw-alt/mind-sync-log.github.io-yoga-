<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ãƒ¨ã‚¬Ã—AIï½œç”Ÿå¾’ç”¨ï¼ˆGeminiã§ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆï¼‰</title>
  <style>
    :root{--bg:#fff;--fg:#111;--muted:#666;--card:#f5f7fb;--border:#e6e8ef;--accent:#2a6df4;}
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,"Segoe UI","Hiragino Kaku Gothic ProN","Noto Sans JP","Meiryo",sans-serif;
      background:var(--bg); color:var(--fg);
    }
    header{
      position:sticky; top:0; z-index:10;
      background:rgba(255,255,255,.92);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--border);
    }
    .bar{
      max-width:980px; margin:0 auto;
      padding:12px 16px;
      display:flex; gap:10px; align-items:center; justify-content:space-between;
    }
    .bar b{font-size:14px;color:var(--muted)}
    .btns{display:flex;gap:10px;flex-wrap:wrap}
    button{
      border:1px solid var(--border);
      background:#fff;
      border-radius:12px;
      padding:10px 12px;
      font-weight:900;
      cursor:pointer;
      font-size:14px;
    }
    button:hover{border-color:rgba(42,109,244,.5)}
    button.primary{
      border-color:rgba(42,109,244,.6);
      background:rgba(42,109,244,.08);
    }
    main{max-width:980px;margin:0 auto;padding:18px 16px 44px}
    .hero{
      padding:18px;
      border:1px solid var(--border);
      border-radius:18px;
      background:linear-gradient(135deg,#fff,var(--card));
    }
    .hero h1{margin:0 0 8px;font-size:28px;line-height:1.2}
    .hero p{margin:0;color:var(--muted);font-weight:800;line-height:1.45}
    .badge{
      display:inline-block;
      margin-top:10px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(42,109,244,.06);
      font-weight:1000;
      color:#234;
      font-size:13px;
    }
    .grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px}
    .card{
      border:1px solid var(--border);
      border-radius:18px;
      overflow:hidden;
      background:#fff;
    }
    .cardHead{
      padding:14px 14px 10px;
      background:rgba(245,247,251,.85);
      border-bottom:1px solid var(--border);
    }
    .kicker{margin:0 0 6px;color:var(--accent);font-weight:1000;font-size:12px;letter-spacing:.02em}
    h2{margin:0;font-size:20px;line-height:1.25}
    .cardBody{padding:14px; display:grid; gap:12px}
    .note{color:var(--muted); font-weight:900; line-height:1.45; font-size:13px}
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .field{display:grid; gap:6px}
    label{font-weight:1000}
    input, select, textarea{
      width:100%;
      border:1px solid var(--border);
      border-radius:14px;
      padding:12px;
      font-size:16px;
      font-weight:800;
      outline:none;
      background:#fff;
    }
    textarea{min-height:220px; resize:vertical; line-height:1.5}
    .two{display:grid; grid-template-columns:1fr; gap:10px}
    .footer{color:var(--muted); font-weight:800; font-size:13px; line-height:1.5}
    .toast{
      position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background:rgba(17,17,17,.92); color:#fff;
      padding:10px 14px; border-radius:999px;
      font-weight:1000; font-size:14px;
      display:none; z-index:999;
    }
    .toast.show{display:block}
    @media (min-width:860px){
      .two{grid-template-columns:1fr 1fr}
      textarea{min-height:260px}
    }
    @media print{header{display:none}}
  </style>
</head>

<body>
<header>
  <div class="bar">
    <b>ãƒ¨ã‚¬Ã—AIï½œç”Ÿå¾’ç”¨ï¼ˆGeminiã§ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆï¼‰</b>
    <div class="btns">
      <button onclick="window.scrollTo({top:0,behavior:'smooth'})">ãƒˆãƒƒãƒ—ã¸</button>
      <button onclick="window.print()">PDFã«ã™ã‚‹ï¼ˆå°åˆ·ï¼‰</button>
    </div>
  </div>
</header>

<main>
  <section class="hero">
    <h1>ãƒ¨ã‚¬ã®â€œã‹ã‚“ãŸã‚“ãƒãƒ‹ãƒ¥ã‚¢ãƒ«â€ã‚’ä½œã‚ã†</h1>
    <p>â‘ ã“ã®ãƒšãƒ¼ã‚¸ã§ãƒãƒ¼ã‚ºã‚’é¸ã¶ â†’ â‘¡Geminiã«è²¼ã‚‹ â†’ â‘¢å‡ºãŸæ–‡ç« ã‚’NanoBananaã¸</p>
    <div class="badge">â€» ã„ãŸã¿ãŒå‡ºãŸã‚‰ä¸­æ­¢ã€‚ã‚€ã‚Šã—ãªã„ã€‚</div>
  </section>

  <div class="grid">

    <!-- ãã®ã¾ã¾ã‚³ãƒ”ãƒšï¼ˆæœ€åˆã®æˆåŠŸï¼‰ -->
    <section class="card">
      <div class="cardHead">
        <p class="kicker">STEP 0</p>
        <h2>ã¾ãšã¯ãã®ã¾ã¾ï¼ˆæˆåŠŸä½“é¨“ï¼‰</h2>
      </div>
      <div class="cardBody">
        <div class="row">
          <button class="primary" onclick="copyFrom('fixedPrompt')">ğŸ“‹ ã“ã‚Œã‚’ã‚³ãƒ”ãƒ¼ â†’ Geminiã¸</button>
          <button onclick="openGemini()">Geminiã‚’é–‹ã</button>
        </div>
        <textarea id="fixedPrompt"></textarea>
        <div class="note">ã‚³ãƒ„ï¼šçŸ­ã„ã»ã©æˆåŠŸã—ã¾ã™ï¼ˆ1ã‚³ãƒ3è¡Œã¾ã§ï¼‰ã€‚</div>
      </div>
    </section>

    <!-- é¸ã‚“ã§ä½œã‚‹ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰ -->
    <section class="card">
      <div class="cardHead">
        <p class="kicker">STEP 1</p>
        <h2>é¸ã‚“ã§ä½œã‚‹ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰</h2>
      </div>
      <div class="cardBody">

        <div class="two">
          <div class="field">
            <label>ã‚¿ã‚¤ãƒˆãƒ«</label>
            <input id="titleInput" value="ã‚„ã•ã—ã„ãƒ¨ã‚¬" />
          </div>
          <div class="field">
            <label>èƒŒæ™¯ï¼ˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</label>
            <select id="bgSelect">
              <option>ç™½</option><option>å’Œç´™</option><option>æ£®</option><option>ç©º</option><option>æµ·</option>
            </select>
          </div>
        </div>

        <div class="two">
          <div class="field">
            <label>ã€1ã€‘ã‚³ãƒ1ï¼ˆæº–å‚™/ç«‹ã¡ï¼‰</label>
            <select id="sel1"></select>
          </div>
          <div class="field">
            <label>ã€2ã€‘ã‚³ãƒ2ï¼ˆå‹•ã/ç«‹ã¡ï¼‰</label>
            <select id="sel2"></select>
          </div>
        </div>

        <div class="two">
          <div class="field">
            <label>ã€3ã€‘ã‚³ãƒ3ï¼ˆã‚†ã‚‹ã‚ã‚‹/åº§ã‚Šï¼‰</label>
            <select id="sel3"></select>
          </div>
          <div class="field">
            <label>ã€4ã€‘ã‚³ãƒ4ï¼ˆä¼‘ã‚€/å¯ï¼‰</label>
            <select id="sel4"></select>
          </div>
        </div>

        <div class="row">
          <button onclick="buildPrompt()">æ–‡ç« ã‚’ä½œã‚‹</button>
          <button class="primary" onclick="copyFrom('out')">ğŸ“‹ æ–‡ç« ã‚’ã‚³ãƒ”ãƒ¼ â†’ Geminiã¸</button>
          <button onclick="openGemini()">Geminiã‚’é–‹ã</button>
        </div>

        <div class="field">
          <label>Geminiã«è²¼ã‚‹æ–‡ç« ï¼ˆã“ã“ã‚’ã‚³ãƒ”ãƒ¼ï¼‰</label>
          <textarea id="out" placeholder="ã€Œæ–‡ç« ã‚’ä½œã‚‹ã€ã‚’æŠ¼ã™ã¨ã“ã“ã«å‡ºã¾ã™"></textarea>
        </div>

        <div class="footer">
          ç”Ÿå¾’ã®æµã‚Œï¼šã‚³ãƒ”ãƒ¼ â†’ Gemini â†’ å‡ºãŸæ–‡ç« ã‚’NanoBananaã¸ï¼ˆç”»åƒåŒ–ï¼‰<br>
          â€» ç—›ã¿ãŒå‡ºãŸã‚‰ä¸­æ­¢ã€‚ã‚€ã‚Šã—ãªã„ã€‚
        </div>

      </div>
    </section>

  </div>
</main>

<div class="toast" id="toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ</div>

<!-- âœ… é‡è¦ï¼šPOSESã¯åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§èª­ã¿è¾¼ã‚€ -->
<script src="./poses.js"></script>

<script>
  // åˆæœŸã®ã€Œãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã€æ–‡ï¼ˆã‚ãªãŸã®è¦‹æœ¬ï¼‰
  const DEFAULT_FIXED =
`ã‚¹ãƒãƒ›ã§è¦‹ã‚„ã™ã„ç¸¦é•·9:16ã€‚
4ã‚³ãƒï¼ˆ2Ã—2ï¼‰ã§ã€Œãƒ¨ã‚¬ã®ã‹ã‚“ãŸã‚“ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã€ã‚’ä½œã‚‹ã€‚
æ–‡å­—ã¯ç‰¹å¤§ã®å¤ªã‚ã‚´ã‚·ãƒƒã‚¯ã€‚èƒŒæ™¯ã¯ï¼ˆç™½/å’Œç´™/æ£®/ç©º/æµ·ï¼‰ã‹ã‚‰é¸ã¶ã€‚
å„ã‚³ãƒã«ã‚·ãƒ³ãƒ—ãƒ«ãªäººç‰©ã‚¤ãƒ©ã‚¹ãƒˆï¼ˆæ­£ã—ã„å½¢ï¼‰ï¼‹çŸ­ã„èª¬æ˜ã€‚æ–‡å­—ãŒæœ€å„ªå…ˆã§èª­ã¿ã‚„ã™ãã€‚

ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘ã‚„ã•ã—ã„ãƒ¨ã‚¬
ã€æ³¨æ„ã€‘ã„ãŸã¿ãŒå‡ºãŸã‚‰ä¸­æ­¢ã€‚ã‚€ã‚Šã—ãªã„ã€‚

ã€1ã€‘å±±ï¼ˆç«‹ã¡ï¼æ¤…å­OKï¼‰
ã­ã‚‰ã„ï¼šå§¿å‹¢ãƒ»å‘¼å¸
5å›æ·±å‘¼å¸ï¼è¶³ã†ã‚‰å‡ç­‰ï¼è‚©é¦–ã¬ã
æ¤…å­OKï¼ãµã‚‰ã¤ãã¯å£ã¸

ã€2ã€‘ã­ã˜ã‚Šï¼ˆæ¤…å­OKï¼‰
ã­ã‚‰ã„ï¼šèƒŒä¸­ã»ãã—
èƒŒã™ã˜ã®ã°ã™â†’å°ã•ãã­ã˜ã‚‹ï¼ˆ5å‘¼å¸ï¼‰
æ¤…å­OKï¼ã„ãŸã¿ã¯æˆ»ã™

ã€3ã€‘ã‚¬ã‚¹æŠœãï¼ˆæ¤…å­ç‰ˆã‚ã‚Šï¼‰
ã­ã‚‰ã„ï¼šè…°ã‚†ã‚‹ã‚
åã„ã¦ã²ã–æŠ±ãˆï¼é¦–è‚©ã¬ã
æ¤…å­ç‰ˆOKï¼è…°ç—›ã¯å°ã•ã

ã€4ã€‘ä¼‘æ¯ï¼ˆæ¨ªå‘ãOKï¼‰
ã­ã‚‰ã„ï¼šä¼‘ã‚€
2åˆ†ï¼å…¨èº«ã‚†ã ã­ã‚‹ï¼è‡ªç„¶å‘¼å¸
æ¨ªå‘ãOKï¼å†·ãˆå¯¾ç­–`;

  document.getElementById("fixedPrompt").value = DEFAULT_FIXED;

  function toast(msg="ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ"){
    const t = document.getElementById("toast");
    t.textContent = msg;
    t.classList.add("show");
    setTimeout(()=>t.classList.remove("show"), 1100);
  }

  function openGemini(){
    window.open("https://gemini.google.com/","_blank","noopener,noreferrer");
  }

  async function copyFrom(id){
    const el = document.getElementById(id);
    const text = el.value || el.textContent || "";
    if(!text){ toast("ã‚³ãƒ”ãƒ¼ã™ã‚‹æ–‡å­—ãŒãªã„"); return; }
    try{
      await navigator.clipboard.writeText(text);
      toast("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
    }catch(e){
      el.focus(); el.select();
      document.execCommand("copy");
      toast("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
    }
  }

  function safePoses(){
    return (window.POSES && Array.isArray(window.POSES) && window.POSES.length) ? window.POSES : [];
  }

  function fillSelect(selId, preferCat=null){
    const sel = document.getElementById(selId);
    sel.innerHTML = "";

    const poses = safePoses();
    const cats = ["ç«‹ã¡","åº§ã‚Š","å¯"];
    const orderedCats = preferCat ? [preferCat, ...cats.filter(c=>c!==preferCat)] : cats;

    orderedCats.forEach(cat=>{
      const group = document.createElement("optgroup");
      group.label = cat;
      poses.filter(p=>p.cat===cat).forEach(p=>{
        const opt = document.createElement("option");
        opt.value = p.id;
        opt.textContent = p.name;
        group.appendChild(opt);
      });
      if(group.children.length) sel.appendChild(group);
    });
  }

  function getPoseById(id){
    return safePoses().find(p=>p.id===id);
  }

  // Geminiã«è²¼ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆ
  function buildPrompt(){
    const title = (document.getElementById("titleInput").value || "ã‚„ã•ã—ã„ãƒ¨ã‚¬").trim();
    const bg = document.getElementById("bgSelect").value;

    const p1 = getPoseById(document.getElementById("sel1").value);
    const p2 = getPoseById(document.getElementById("sel2").value);
    const p3 = getPoseById(document.getElementById("sel3").value);
    const p4 = getPoseById(document.getElementById("sel4").value);

    if(!p1 || !p2 || !p3 || !p4){
      toast("ãƒãƒ¼ã‚ºãŒèª­ã‚ã¦ãªã„ï¼ˆposes.jsç¢ºèªï¼‰");
      return;
    }

    const out =
`ã‚ãªãŸã¯ã‚„ã•ã—ã„ãƒ¨ã‚¬ã®å…ˆç”Ÿã§ã™ã€‚
é«˜é½¢è€…ã§ã‚‚å®‰å…¨ã«ã§ãã‚‹ã€Œ4ã‚³ãƒï¼ˆ2Ã—2ï¼‰ãƒ¨ã‚¬ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã€ã‚’æ—¥æœ¬èªã§ä½œã£ã¦ãã ã•ã„ã€‚
ã‚¹ãƒãƒ›ã§è¦‹ã‚„ã™ãã€æ–‡å­—ã¯å¤§ããã€1ã‚³ãƒ3è¡Œã¾ã§ã€‚ã‚„ã•ã—ã„è¨€è‘‰ã€‚èª‡å¤§è¡¨ç¾ãªã—ã€‚
èƒŒæ™¯ã¯ï¼ˆ${bg}ï¼‰ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚

ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘${title}
ã€æ³¨æ„ã€‘ã„ãŸã¿ãŒå‡ºãŸã‚‰ä¸­æ­¢ã€‚ã‚€ã‚Šã—ãªã„ã€‚

ã€1ã€‘${p1.name}
${p1.line}

ã€2ã€‘${p2.name}
${p2.line}

ã€3ã€‘${p3.name}
${p3.line}

ã€4ã€‘${p4.name}
${p4.line}

æœ€å¾Œã«ã€Œä»Šæ—¥ã®å›æ•°ã®ç›®å®‰ï¼ˆä¾‹ï¼šå„5å‘¼å¸ï¼‰ã€ã‚’1è¡Œã§ä»˜ã‘ã¦ãã ã•ã„ã€‚`;

    document.getElementById("out").value = out;
    toast("æ–‡ç« ã§ããŸ");
  }

  // èµ·å‹•æ™‚ï¼šãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã‚’åŸ‹ã‚ã‚‹ï¼ˆãŠã™ã™ã‚ã‚«ãƒ†ã‚´ãƒªé †ï¼‰
  fillSelect("sel1","ç«‹ã¡");
  fillSelect("sel2","ç«‹ã¡");
  fillSelect("sel3","åº§ã‚Š");
  fillSelect("sel4","å¯");

  // poses.jsãŒèª­ã‚ã¦ãªã„å ´åˆã®æ•‘æ¸ˆ
  if(safePoses().length === 0){
    document.getElementById("out").value =
"poses.js ãŒèª­ã¿è¾¼ã‚ã¦ã„ã¾ã›ã‚“ã€‚ãƒªãƒã‚¸ãƒˆãƒªç›´ä¸‹ã« poses.js ã‚’ç½®ã„ã¦ã€index.html ã¨åŒã˜éšå±¤ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚";
  }
</script>
</body>
</html>
